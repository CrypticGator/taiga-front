.card-owner
    .card-owner-info(ng-if="vm.zoom >= 0 && vm.item.get('assigned_to')")
        .card-owner-avatar
            img(
                ng-src="{{vm.item.getIn(['assigned_to', 'photo'])}}"
                ng-class="{'is-iocaine': vm.item.getIn(['model', 'is_iocaine'])}"
            )
            tg-svg(
                ng-if="vm.item.getIn(['model', 'is_iocaine'])"
                svg-icon="icon-iocaine"
                svg-title="COMMON.IOCAINE_TEXT"
            )
        span.card-owner-name(ng-if="vm.zoom >= 2") {{vm.item.getIn(['assigned_to', 'full_name'])}}
        a.card-title(
            ng-if="vm.zoom < 2"
            href=""
            tg-nav="{{vm.getNavKey()}}:project=vm.project.slug,ref=vm.item.getIn(['model', 'ref'])",
            tg-nav-get-params="{\"kanban-status\": {{vm.item.getIn(['model', 'status'])}}}"
            title="#{{ ::vm.item.getIn(['model', 'ref']) }} {{ vm.item.getIn(['model', 'subject'])}}"
        ) 
            span(ng-if="vm.zoom < 2") {{::"#" + vm.item.getIn(['model', 'ref'])}}
            span.e2e-title(ng-if="vm.zoom == 1") {{vm.item.getIn(['model', 'subject'])}}

    .card-owner-info(ng-if="vm.zoom >= 0 && !vm.item.get('assigned_to')")
        img(ng-src="/#{v}/images/unnamed.png")
        span.card-owner-name(
            ng-if="vm.zoom >= 2",
            translate="COMMON.ASSIGNED_TO.NOT_ASSIGNED"
        )
        a.card-title(
            ng-if="vm.zoom < 2"
            href=""
            tg-nav="{{vm.getNavKey()}}:project=vm.project.slug,ref=vm.item.getIn(['model', 'ref'])",
            tg-nav-get-params="{\"kanban-status\": {{vm.item.getIn(['model', 'status'])}}}"
            title="#{{ ::vm.item.getIn(['model', 'ref']) }} {{ vm.item.getIn(['model', 'subject'])}}"
        ) 
            span(ng-if="vm.zoom < 2") {{::"#" + vm.item.getIn(['model', 'ref'])}}
            span.e2e-title(ng-if="vm.zoom == 1") {{vm.item.getIn(['model', 'subject'])}}

    .card-owner-actions(
        ng-if="vm.zoom >= 2"
        tg-check-permission="{{vm.getPermissionsKey()}}"
    )
        a.e2e-assign.card-owner-assign(
            ng-click="vm.onClickAssignedTo({id: vm.item.get('id')})"
            href=""
          )
            //todo icon
            tg-svg(svg-icon="icon-add-user")
            span(translate="COMMON.CARD.ASSIGN_TO")

        a.e2e-edit.card-edit(
            href=""
            ng-click="vm.onClickEdit({id: vm.item.get('id')})"
            tg-loading="vm.item.get('loading')"
        )
            //todo icon
            tg-svg(svg-icon="icon-edit")
            span(translate="COMMON.CARD.EDIT")
